{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/widgets/Sidebar/ui/index.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const TopBarMenu = registerClientReference(\n    function() { throw new Error(\"Attempted to call TopBarMenu() from the server but TopBarMenu is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/widgets/Sidebar/ui/index.tsx <module evaluation>\",\n    \"TopBarMenu\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,aAAa,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,kEACA","debugId":null}},
    {"offset": {"line": 17, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/widgets/Sidebar/ui/index.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const TopBarMenu = registerClientReference(\n    function() { throw new Error(\"Attempted to call TopBarMenu() from the server but TopBarMenu is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/widgets/Sidebar/ui/index.tsx\",\n    \"TopBarMenu\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,aAAa,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,8CACA","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/widgets/UserProfile/ui/index.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const UserProfile = registerClientReference(\n    function() { throw new Error(\"Attempted to call UserProfile() from the server but UserProfile is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/widgets/UserProfile/ui/index.tsx <module evaluation>\",\n    \"UserProfile\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,cAAc,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,sEACA","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/widgets/UserProfile/ui/index.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const UserProfile = registerClientReference(\n    function() { throw new Error(\"Attempted to call UserProfile() from the server but UserProfile is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/widgets/UserProfile/ui/index.tsx\",\n    \"UserProfile\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,cAAc,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,kDACA","debugId":null}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/shared/providers/userProvider.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const UserStoreContext = registerClientReference(\n    function() { throw new Error(\"Attempted to call UserStoreContext() from the server but UserStoreContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/shared/providers/userProvider.tsx <module evaluation>\",\n    \"UserStoreContext\",\n);\nexport const UserStoreProvider = registerClientReference(\n    function() { throw new Error(\"Attempted to call UserStoreProvider() from the server but UserStoreProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/shared/providers/userProvider.tsx <module evaluation>\",\n    \"UserStoreProvider\",\n);\nexport const useUserStore = registerClientReference(\n    function() { throw new Error(\"Attempted to call useUserStore() from the server but useUserStore is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/shared/providers/userProvider.tsx <module evaluation>\",\n    \"useUserStore\",\n);\n"],"names":[],"mappings":";;;;;AAAA;;AACO,MAAM,mBAAmB,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EAClD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,uEACA;AAEG,MAAM,oBAAoB,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EACnD;IAAa,MAAM,IAAI,MAAM;AAAkP,GAC/Q,uEACA;AAEG,MAAM,eAAe,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,uEACA","debugId":null}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/shared/providers/userProvider.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const UserStoreContext = registerClientReference(\n    function() { throw new Error(\"Attempted to call UserStoreContext() from the server but UserStoreContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/shared/providers/userProvider.tsx\",\n    \"UserStoreContext\",\n);\nexport const UserStoreProvider = registerClientReference(\n    function() { throw new Error(\"Attempted to call UserStoreProvider() from the server but UserStoreProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/shared/providers/userProvider.tsx\",\n    \"UserStoreProvider\",\n);\nexport const useUserStore = registerClientReference(\n    function() { throw new Error(\"Attempted to call useUserStore() from the server but useUserStore is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/shared/providers/userProvider.tsx\",\n    \"useUserStore\",\n);\n"],"names":[],"mappings":";;;;;AAAA;;AACO,MAAM,mBAAmB,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EAClD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,mDACA;AAEG,MAAM,oBAAoB,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EACnD;IAAa,MAAM,IAAI,MAAM;AAAkP,GAC/Q,mDACA;AAEG,MAAM,eAAe,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,mDACA","debugId":null}},
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 205, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/shared/api/index.ts"],"sourcesContent":["import axios from \"axios\"\r\n\r\n// Read a cookie value by name (browser-only)\r\nconst getCookie = (name: string): string | undefined => {\r\n  if (typeof document === \"undefined\") return undefined\r\n  const match = document.cookie.split(\"; \").find(row => row.startsWith(`${name}=`))\r\n  const value = match?.split(\"=\")[1]\r\n  return value ? decodeURIComponent(value) : undefined\r\n}\r\n\r\nexport const AxiosInstance = axios.create({\r\n  baseURL: \"/api\",\r\n  withCredentials: true,\r\n})\r\nAxiosInstance.interceptors.request.use(\r\n  async config => {\r\n    if (config.headers) config.headers[\"Content-Type\"] = \"application/json\"\r\n\r\n    return config\r\n  },\r\n  error => {\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nAxiosInstance.interceptors.response.use(\r\n  response => {\r\n    return response\r\n  },\r\n  async (error: any) => {\r\n    console.error(\"Axios error:\", error)\r\n    const originalRequest = error.config\r\n    if (\r\n      error.response?.status === 401 &&\r\n      !originalRequest.url?.includes(\"/auth/login\") &&\r\n      !originalRequest.url?.includes(\"/auth/refresh\") &&\r\n      !originalRequest.url?.includes(\"/auth/register\") &&\r\n      !originalRequest._retry\r\n    ) {\r\n      originalRequest._retry = true\r\n      try {\r\n        // Call refresh without body; let server read refresh token from HttpOnly cookie\r\n        const refreshRes = await axios.post(`/auth/refresh`, undefined, {\r\n          withCredentials: true,\r\n        })\r\n        const newToken = refreshRes.data.accessToken\r\n\r\n        if (typeof sessionStorage !== \"undefined\") {\r\n          sessionStorage.setItem(\"accessToken\", newToken)\r\n        }\r\n\r\n        // ensure headers before mutation\r\n        if (!originalRequest.headers) originalRequest.headers = {}\r\n        originalRequest.headers.Authorization = `Bearer ${newToken}`\r\n\r\n        return AxiosInstance(originalRequest)\r\n      } catch (refreshError) {\r\n        console.error(\"Failed to refresh token\", refreshError)\r\n        return Promise.reject(refreshError)\r\n      }\r\n    }\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,6CAA6C;AAC7C,MAAM,YAAY,CAAC;IACjB,IAAI,OAAO,aAAa,aAAa,OAAO;IAC5C,MAAM,QAAQ,SAAS,MAAM,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,CAAA,MAAO,IAAI,UAAU,CAAC,GAAG,KAAK,CAAC,CAAC;IAC/E,MAAM,QAAQ,OAAO,MAAM,IAAI,CAAC,EAAE;IAClC,OAAO,QAAQ,mBAAmB,SAAS;AAC7C;AAEO,MAAM,gBAAgB,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACxC,SAAS;IACT,iBAAiB;AACnB;AACA,cAAc,YAAY,CAAC,OAAO,CAAC,GAAG,CACpC,OAAM;IACJ,IAAI,OAAO,OAAO,EAAE,OAAO,OAAO,CAAC,eAAe,GAAG;IAErD,OAAO;AACT,GACA,CAAA;IACE,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,cAAc,YAAY,CAAC,QAAQ,CAAC,GAAG,CACrC,CAAA;IACE,OAAO;AACT,GACA,OAAO;IACL,QAAQ,KAAK,CAAC,gBAAgB;IAC9B,MAAM,kBAAkB,MAAM,MAAM;IACpC,IACE,MAAM,QAAQ,EAAE,WAAW,OAC3B,CAAC,gBAAgB,GAAG,EAAE,SAAS,kBAC/B,CAAC,gBAAgB,GAAG,EAAE,SAAS,oBAC/B,CAAC,gBAAgB,GAAG,EAAE,SAAS,qBAC/B,CAAC,gBAAgB,MAAM,EACvB;QACA,gBAAgB,MAAM,GAAG;QACzB,IAAI;YACF,gFAAgF;YAChF,MAAM,aAAa,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,CAAC,aAAa,CAAC,EAAE,WAAW;gBAC9D,iBAAiB;YACnB;YACA,MAAM,WAAW,WAAW,IAAI,CAAC,WAAW;YAE5C,IAAI,OAAO,mBAAmB,aAAa;gBACzC,eAAe,OAAO,CAAC,eAAe;YACxC;YAEA,iCAAiC;YACjC,IAAI,CAAC,gBAAgB,OAAO,EAAE,gBAAgB,OAAO,GAAG,CAAC;YACzD,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,UAAU;YAE5D,OAAO,cAAc;QACvB,EAAE,OAAO,cAAc;YACrB,QAAQ,KAAK,CAAC,2BAA2B;YACzC,OAAO,QAAQ,MAAM,CAAC;QACxB;IACF;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB","debugId":null}},
    {"offset": {"line": 258, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/shared/utils/getJwtTokenOnServer.ts"],"sourcesContent":["import { cookies } from \"next/headers\"\r\n\r\nexport async function getJwtTokenOnServer() {\r\n  if (typeof window !== \"undefined\") return undefined\r\n\r\n  const cookieStore = await cookies()\r\n  return cookieStore.get(\"accessToken\")?.value\r\n}\r\n"],"names":[],"mappings":";;;AAAA;;AAEO,eAAe;IACpB;;IAEA,MAAM,cAAc,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAChC,OAAO,YAAY,GAAG,CAAC,gBAAgB;AACzC","debugId":null}},
    {"offset": {"line": 273, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/app/home/layout.tsx"],"sourcesContent":["import { Avatar, Breadcrumb } from \"antd\"\nimport { Suspense } from \"react\"\nimport { TopBarMenu } from \"../../widgets/Sidebar/ui\"\nimport { UserProfile } from \"../../widgets/UserProfile/ui\"\nimport { RoutesEnum } from \"../../shared/router/routesEnum\"\nimport { redirect } from \"next/navigation\"\nimport { User } from \"../../shared/entities/User/User\"\nimport { UserStoreProvider } from \"../../shared/providers/userProvider\"\nimport { AxiosInstance } from \"../../shared/api\"\nimport { getJwtTokenOnServer } from \"../../shared/utils/getJwtTokenOnServer\"\n\nexport default async function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode\n}>) {\n  let userInfo = {} as User\n\n  try {\n    const res = await AxiosInstance.get<User>(`${process.env.NEXT_PUBLIC_API_REDIRECT_URL}/users/me/info`, {\n      headers: {\n        Authorization: `Bearer ${await getJwtTokenOnServer()}`,\n      },\n    })\n    userInfo = res.data\n  } catch (error) {\n    console.error(\"Произошла ошибка:\" + error)\n  }\n\n  return (\n    <div\n      style={{\n        minHeight: \"100dvh\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        backgroundColor: \"#000000\",\n        display: \"grid\",\n        boxSizing: \"border-box\",\n        gridTemplateColumns: \"1fr\",\n        gridTemplateRows: \"auto 9fr auto\",\n      }}\n    >\n      <UserStoreProvider initState={userInfo ? { user: userInfo } : undefined}>\n        <div\n          style={{\n            position: \"sticky\",\n            top: 0,\n            zIndex: 1,\n            width: \"100%\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n            gap: \"16px\",\n            backgroundColor: \"white\",\n            padding: \"0 16px\",\n          }}\n        >\n          <TopBarMenu />\n          <UserProfile />\n        </div>\n        <div style={{ padding: \"32px\", boxSizing: \"border-box\", height: \"100%\" }}>\n          <Breadcrumb\n            items={[{ title: \"Зявки\" }]}\n            style={{ color: \"white\" }}\n          />\n          <div\n            style={{\n              width: \"100%\",\n              height: \"100%\",\n              margin: \"0 auto\",\n              backgroundColor: \"white\",\n              padding: \"16px\",\n              borderRadius: \"12px\",\n            }}\n          >\n            <Suspense>{children}</Suspense>\n          </div>\n        </div>\n      </UserStoreProvider>\n      <div\n        style={{\n          padding: \"16px\",\n          color: \"white\",\n          textAlign: \"center\",\n        }}\n      >\n        Больничные ©{new Date().getFullYear()} ТГУ\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AAIA;AACA;AACA;;;;;;;;;AAEe,eAAe,WAAW,EACvC,QAAQ,EAGR;IACA,IAAI,WAAW,CAAC;IAEhB,IAAI;QACF,MAAM,MAAM,MAAM,6HAAA,CAAA,gBAAa,CAAC,GAAG,CAAO,iEAA4C,cAAc,CAAC,EAAE;YACrG,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,MAAM,CAAA,GAAA,6IAAA,CAAA,sBAAmB,AAAD,KAAK;YACxD;QACF;QACA,WAAW,IAAI,IAAI;IACrB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sBAAsB;IACtC;IAEA,qBACE,8OAAC;QACC,OAAO;YACL,WAAW;YACX,OAAO;YACP,UAAU;YACV,iBAAiB;YACjB,SAAS;YACT,WAAW;YACX,qBAAqB;YACrB,kBAAkB;QACpB;;0BAEA,8OAAC,2IAAA,CAAA,oBAAiB;gBAAC,WAAW,WAAW;oBAAE,MAAM;gBAAS,IAAI;;kCAC5D,8OAAC;wBACC,OAAO;4BACL,UAAU;4BACV,KAAK;4BACL,QAAQ;4BACR,OAAO;4BACP,SAAS;4BACT,YAAY;4BACZ,gBAAgB;4BAChB,KAAK;4BACL,iBAAiB;4BACjB,SAAS;wBACX;;0CAEA,8OAAC,yIAAA,CAAA,aAAU;;;;;0CACX,8OAAC,6IAAA,CAAA,cAAW;;;;;;;;;;;kCAEd,8OAAC;wBAAI,OAAO;4BAAE,SAAS;4BAAQ,WAAW;4BAAc,QAAQ;wBAAO;;0CACrE,8OAAC,mIAAA,CAAA,aAAU;gCACT,OAAO;oCAAC;wCAAE,OAAO;oCAAQ;iCAAE;gCAC3B,OAAO;oCAAE,OAAO;gCAAQ;;;;;;0CAE1B,8OAAC;gCACC,OAAO;oCACL,OAAO;oCACP,QAAQ;oCACR,QAAQ;oCACR,iBAAiB;oCACjB,SAAS;oCACT,cAAc;gCAChB;0CAEA,cAAA,8OAAC,qMAAA,CAAA,WAAQ;8CAAE;;;;;;;;;;;;;;;;;;;;;;;0BAIjB,8OAAC;gBACC,OAAO;oBACL,SAAS;oBACT,OAAO;oBACP,WAAW;gBACb;;oBACD;oBACc,IAAI,OAAO,WAAW;oBAAG;;;;;;;;;;;;;AAI9C","debugId":null}}]
}