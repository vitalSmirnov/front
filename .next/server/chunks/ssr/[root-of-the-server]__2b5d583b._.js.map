{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/widgets/Sidebar/ui/index.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const TopBarMenu = registerClientReference(\n    function() { throw new Error(\"Attempted to call TopBarMenu() from the server but TopBarMenu is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/widgets/Sidebar/ui/index.tsx <module evaluation>\",\n    \"TopBarMenu\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,aAAa,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,kEACA","debugId":null}},
    {"offset": {"line": 17, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/widgets/Sidebar/ui/index.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const TopBarMenu = registerClientReference(\n    function() { throw new Error(\"Attempted to call TopBarMenu() from the server but TopBarMenu is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/widgets/Sidebar/ui/index.tsx\",\n    \"TopBarMenu\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,aAAa,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,8CACA","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/widgets/UserProfile/ui/index.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const UserProfile = registerClientReference(\n    function() { throw new Error(\"Attempted to call UserProfile() from the server but UserProfile is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/widgets/UserProfile/ui/index.tsx <module evaluation>\",\n    \"UserProfile\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,cAAc,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,sEACA","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/widgets/UserProfile/ui/index.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const UserProfile = registerClientReference(\n    function() { throw new Error(\"Attempted to call UserProfile() from the server but UserProfile is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/widgets/UserProfile/ui/index.tsx\",\n    \"UserProfile\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,cAAc,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,kDACA","debugId":null}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/shared/api/index.ts"],"sourcesContent":["import axios from \"axios\"\r\n\r\n// Read a cookie value by name (browser-only)\r\nconst getCookie = (name: string): string | undefined => {\r\n  if (typeof document === \"undefined\") return undefined\r\n  const match = document.cookie.split(\"; \").find(row => row.startsWith(`${name}=`))\r\n  const value = match?.split(\"=\")[1]\r\n  return value ? decodeURIComponent(value) : undefined\r\n}\r\n\r\nexport const AxiosInstance = axios.create({\r\n  baseURL: \"/api\",\r\n  withCredentials: true,\r\n})\r\nAxiosInstance.interceptors.request.use(\r\n  async config => {\r\n    if (config.headers) config.headers[\"Content-Type\"] = \"application/json\"\r\n\r\n    return config\r\n  },\r\n  error => {\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nAxiosInstance.interceptors.response.use(\r\n  response => {\r\n    return response\r\n  },\r\n  async (error: any) => {\r\n    const originalRequest = error.config\r\n    if (\r\n      error.response?.status === 401 &&\r\n      !originalRequest.url?.includes(\"/auth/login\") &&\r\n      !originalRequest.url?.includes(\"/auth/refresh\") &&\r\n      !originalRequest.url?.includes(\"/auth/register\") &&\r\n      !originalRequest._retry\r\n    ) {\r\n      originalRequest._retry = true\r\n      try {\r\n        // Call refresh without body; let server read refresh token from HttpOnly cookie\r\n        const refreshRes = await axios.post(\"/api/auth/refresh\", undefined, { withCredentials: true })\r\n        const newToken = refreshRes.data.accessToken\r\n\r\n        if (typeof sessionStorage !== \"undefined\") {\r\n          sessionStorage.setItem(\"accessToken\", newToken)\r\n        }\r\n\r\n        // ensure headers before mutation\r\n        if (!originalRequest.headers) originalRequest.headers = {}\r\n        originalRequest.headers.Authorization = `Bearer ${newToken}`\r\n\r\n        return AxiosInstance(originalRequest)\r\n      } catch (refreshError) {\r\n        console.error(\"Failed to refresh token\", refreshError)\r\n        return Promise.reject(refreshError)\r\n      }\r\n    }\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,6CAA6C;AAC7C,MAAM,YAAY,CAAC;IACjB,IAAI,OAAO,aAAa,aAAa,OAAO;IAC5C,MAAM,QAAQ,SAAS,MAAM,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,CAAA,MAAO,IAAI,UAAU,CAAC,GAAG,KAAK,CAAC,CAAC;IAC/E,MAAM,QAAQ,OAAO,MAAM,IAAI,CAAC,EAAE;IAClC,OAAO,QAAQ,mBAAmB,SAAS;AAC7C;AAEO,MAAM,gBAAgB,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACxC,SAAS;IACT,iBAAiB;AACnB;AACA,cAAc,YAAY,CAAC,OAAO,CAAC,GAAG,CACpC,OAAM;IACJ,IAAI,OAAO,OAAO,EAAE,OAAO,OAAO,CAAC,eAAe,GAAG;IAErD,OAAO;AACT,GACA,CAAA;IACE,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,cAAc,YAAY,CAAC,QAAQ,CAAC,GAAG,CACrC,CAAA;IACE,OAAO;AACT,GACA,OAAO;IACL,MAAM,kBAAkB,MAAM,MAAM;IACpC,IACE,MAAM,QAAQ,EAAE,WAAW,OAC3B,CAAC,gBAAgB,GAAG,EAAE,SAAS,kBAC/B,CAAC,gBAAgB,GAAG,EAAE,SAAS,oBAC/B,CAAC,gBAAgB,GAAG,EAAE,SAAS,qBAC/B,CAAC,gBAAgB,MAAM,EACvB;QACA,gBAAgB,MAAM,GAAG;QACzB,IAAI;YACF,gFAAgF;YAChF,MAAM,aAAa,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,qBAAqB,WAAW;gBAAE,iBAAiB;YAAK;YAC5F,MAAM,WAAW,WAAW,IAAI,CAAC,WAAW;YAE5C,IAAI,OAAO,mBAAmB,aAAa;gBACzC,eAAe,OAAO,CAAC,eAAe;YACxC;YAEA,iCAAiC;YACjC,IAAI,CAAC,gBAAgB,OAAO,EAAE,gBAAgB,OAAO,GAAG,CAAC;YACzD,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,UAAU;YAE5D,OAAO,cAAc;QACvB,EAAE,OAAO,cAAc;YACrB,QAAQ,KAAK,CAAC,2BAA2B;YACzC,OAAO,QAAQ,MAAM,CAAC;QACxB;IACF;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB","debugId":null}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/widgets/Sidebar/api/index.ts"],"sourcesContent":["import { AxiosInstance } from \"../../../shared/api\"\r\nimport { User } from \"../../../shared/entities/User/User\"\r\n\r\nexport const getUserInfo = async () => {\r\n  return await AxiosInstance.get<User | { error: string }>(`/auth/user/info`)\r\n}\r\n"],"names":[],"mappings":";;;AAAA;;AAGO,MAAM,cAAc;IACzB,OAAO,MAAM,6HAAA,CAAA,gBAAa,CAAC,GAAG,CAA2B,CAAC,eAAe,CAAC;AAC5E","debugId":null}},
    {"offset": {"line": 221, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/app/home/layout.tsx"],"sourcesContent":["import { Avatar, Breadcrumb } from \"antd\"\nimport { Suspense } from \"react\"\nimport { TopBarMenu } from \"../../widgets/Sidebar/ui\"\nimport { UserProfile } from \"../../widgets/UserProfile/ui\"\nimport { getUserInfo } from \"../../widgets/Sidebar/api\"\n\nexport default function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode\n}>) {\n  let userInfo = { firstName: \"\", lastName: \"\" }\n  try {\n    userInfo = await getUserInfo()\n  } catch (error) {\n    console.error(\"Произошла ошибка:\" + error)\n    redirect(RoutesEnum.LOGIN.replace(\"{projectId}\", params.projectName))\n  }\n\n  return (\n    <div\n      style={{\n        minHeight: \"100dvh\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        backgroundColor: \"#000000\",\n        display: \"grid\",\n        boxSizing: \"border-box\",\n        gridTemplateColumns: \"1fr\",\n        gridTemplateRows: \"auto 9fr auto\",\n      }}\n    >\n      <div\n        style={{\n          position: \"sticky\",\n          top: 0,\n          zIndex: 1,\n          width: \"100%\",\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: \"16px\",\n          backgroundColor: \"white\",\n          padding: \"0 16px\",\n        }}\n      >\n        <Avatar />\n        <TopBarMenu />\n      </div>\n      <div style={{ padding: \"32px\", boxSizing: \"border-box\", height: \"100%\" }}>\n        <Breadcrumb\n          items={[{ title: \"Зявки\" }]}\n          style={{ color: \"white\" }}\n        />\n        <div\n          style={{\n            width: \"100%\",\n            height: \"100%\",\n            margin: \"0 auto\",\n            backgroundColor: \"white\",\n            padding: \"16px\",\n            borderRadius: \"12px\",\n          }}\n        >\n          <Suspense>{children}</Suspense>\n          <UserProfile />\n        </div>\n      </div>\n      <div\n        style={{\n          padding: \"16px\",\n          color: \"white\",\n          textAlign: \"center\",\n        }}\n      >\n        Больничные ©{new Date().getFullYear()} ТГУ\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAEe,SAAS,WAAW,EACjC,QAAQ,EAGR;IACA,IAAI,WAAW;QAAE,WAAW;QAAI,UAAU;IAAG;IAC7C,IAAI;QACF,WAAW,MAAM,CAAA,GAAA,yIAAA,CAAA,cAAW,AAAD;IAC7B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sBAAsB;QACpC,SAAS,WAAW,KAAK,CAAC,OAAO,CAAC,eAAe,OAAO,WAAW;IACrE;IAEA,qBACE,8OAAC;QACC,OAAO;YACL,WAAW;YACX,OAAO;YACP,UAAU;YACV,iBAAiB;YACjB,SAAS;YACT,WAAW;YACX,qBAAqB;YACrB,kBAAkB;QACpB;;0BAEA,8OAAC;gBACC,OAAO;oBACL,UAAU;oBACV,KAAK;oBACL,QAAQ;oBACR,OAAO;oBACP,SAAS;oBACT,YAAY;oBACZ,KAAK;oBACL,iBAAiB;oBACjB,SAAS;gBACX;;kCAEA,8OAAC,mIAAA,CAAA,SAAM;;;;;kCACP,8OAAC,yIAAA,CAAA,aAAU;;;;;;;;;;;0BAEb,8OAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,WAAW;oBAAc,QAAQ;gBAAO;;kCACrE,8OAAC,mIAAA,CAAA,aAAU;wBACT,OAAO;4BAAC;gCAAE,OAAO;4BAAQ;yBAAE;wBAC3B,OAAO;4BAAE,OAAO;wBAAQ;;;;;;kCAE1B,8OAAC;wBACC,OAAO;4BACL,OAAO;4BACP,QAAQ;4BACR,QAAQ;4BACR,iBAAiB;4BACjB,SAAS;4BACT,cAAc;wBAChB;;0CAEA,8OAAC,qMAAA,CAAA,WAAQ;0CAAE;;;;;;0CACX,8OAAC,6IAAA,CAAA,cAAW;;;;;;;;;;;;;;;;;0BAGhB,8OAAC;gBACC,OAAO;oBACL,SAAS;oBACT,OAAO;oBACP,WAAW;gBACb;;oBACD;oBACc,IAAI,OAAO,WAAW;oBAAG;;;;;;;;;;;;;AAI9C","debugId":null}}]
}