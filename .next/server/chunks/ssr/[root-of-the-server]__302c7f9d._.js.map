{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/shared/api/index.ts"],"sourcesContent":["import { message } from \"antd\"\r\nimport axios from \"axios\"\r\n\r\nexport const AxiosInstance = axios.create({\r\n  baseURL: process.env.BASE_URL,\r\n})\r\n\r\nAxiosInstance.interceptors.request.use(\r\n  config => {\r\n    const token = sessionStorage.getItem(\"accessToken\")\r\n\r\n    if (token) {\r\n      if (config.headers) config.headers.Authorization = `Bearer ${token}`\r\n    }\r\n    return config\r\n  },\r\n  error => {\r\n    message.error(\"Request error: \" + error.message)\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nAxiosInstance.interceptors.response.use(\r\n  response => {\r\n    return response\r\n  },\r\n  async error => {\r\n    const originalRequest = error.config\r\n    if (\r\n      error.response?.status === 401 &&\r\n      !originalRequest.url.includes(\"/api/auth/login\") &&\r\n      !originalRequest.url.includes(\"/api/auth/refresh\") &&\r\n      !originalRequest.url.includes(\"/api/auth/register\") &&\r\n      !originalRequest._retry\r\n    ) {\r\n      originalRequest._retry = true\r\n      try {\r\n        const refreshRes = await AxiosInstance.post(\"/api/auth/refresh\", {\r\n          refreshToken: localStorage.getItem(\"refreshToken\"),\r\n        })\r\n        const newToken = refreshRes.data.accessToken\r\n        sessionStorage.setItem(\"accessToken\", newToken)\r\n        originalRequest.headers.Authorization = `Bearer ${newToken}`\r\n        return AxiosInstance(originalRequest)\r\n      } catch (refreshError) {\r\n        console.error(\"Failed to refresh token\", refreshError)\r\n        return Promise.reject(refreshError)\r\n      }\r\n    }\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,MAAM,gBAAgB,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACxC,SAAS,QAAQ,GAAG,CAAC,QAAQ;AAC/B;AAEA,cAAc,YAAY,CAAC,OAAO,CAAC,GAAG,CACpC,CAAA;IACE,MAAM,QAAQ,eAAe,OAAO,CAAC;IAErC,IAAI,OAAO;QACT,IAAI,OAAO,OAAO,EAAE,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IACtE;IACA,OAAO;AACT,GACA,CAAA;IACE,mIAAA,CAAA,UAAO,CAAC,KAAK,CAAC,oBAAoB,MAAM,OAAO;IAC/C,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,cAAc,YAAY,CAAC,QAAQ,CAAC,GAAG,CACrC,CAAA;IACE,OAAO;AACT,GACA,OAAM;IACJ,MAAM,kBAAkB,MAAM,MAAM;IACpC,IACE,MAAM,QAAQ,EAAE,WAAW,OAC3B,CAAC,gBAAgB,GAAG,CAAC,QAAQ,CAAC,sBAC9B,CAAC,gBAAgB,GAAG,CAAC,QAAQ,CAAC,wBAC9B,CAAC,gBAAgB,GAAG,CAAC,QAAQ,CAAC,yBAC9B,CAAC,gBAAgB,MAAM,EACvB;QACA,gBAAgB,MAAM,GAAG;QACzB,IAAI;YACF,MAAM,aAAa,MAAM,cAAc,IAAI,CAAC,qBAAqB;gBAC/D,cAAc,aAAa,OAAO,CAAC;YACrC;YACA,MAAM,WAAW,WAAW,IAAI,CAAC,WAAW;YAC5C,eAAe,OAAO,CAAC,eAAe;YACtC,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,UAAU;YAC5D,OAAO,cAAc;QACvB,EAAE,OAAO,cAAc;YACrB,QAAQ,KAAK,CAAC,2BAA2B;YACzC,OAAO,QAAQ,MAAM,CAAC;QACxB;IACF;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB","debugId":null}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/entities/TicketList/api/index.tsx"],"sourcesContent":["import { AxiosInstance } from \"../../../shared/api\"\r\nimport { GetTicketsPayload } from \"../types\"\r\n\r\nexport const getTicketList = async (payload: GetTicketsPayload) => {\r\n  return await AxiosInstance.get(`/api/tickets`, {\r\n    params: payload,\r\n  })\r\n    .then(response => {\r\n      return response.data\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error fetching tickets:\", error)\r\n      return error\r\n    })\r\n}\r\n\r\nexport const approoveTicket = async (id: string) => {\r\n  return await AxiosInstance.post(`/api/tickets/${id}/approve`, {})\r\n    .then(response => {\r\n      return response.data\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error fetching tickets:\", error)\r\n      return error\r\n    })\r\n}\r\nexport const declineTicket = async (id: string) => {\r\n  return await AxiosInstance.post(`/api/tickets/${id}/decline`, {})\r\n    .then(response => {\r\n      return response.data\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error fetching tickets:\", error)\r\n      return error\r\n    })\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AAGO,MAAM,gBAAgB,OAAO;IAClC,OAAO,MAAM,6HAAA,CAAA,gBAAa,CAAC,GAAG,CAAC,CAAC,YAAY,CAAC,EAAE;QAC7C,QAAQ;IACV,GACG,IAAI,CAAC,CAAA;QACJ,OAAO,SAAS,IAAI;IACtB,GACC,KAAK,CAAC,CAAA;QACL,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO;IACT;AACJ;AAEO,MAAM,iBAAiB,OAAO;IACnC,OAAO,MAAM,6HAAA,CAAA,gBAAa,CAAC,IAAI,CAAC,CAAC,aAAa,EAAE,GAAG,QAAQ,CAAC,EAAE,CAAC,GAC5D,IAAI,CAAC,CAAA;QACJ,OAAO,SAAS,IAAI;IACtB,GACC,KAAK,CAAC,CAAA;QACL,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO;IACT;AACJ;AACO,MAAM,gBAAgB,OAAO;IAClC,OAAO,MAAM,6HAAA,CAAA,gBAAa,CAAC,IAAI,CAAC,CAAC,aAAa,EAAE,GAAG,QAAQ,CAAC,EAAE,CAAC,GAC5D,IAAI,CAAC,CAAA;QACJ,OAAO,SAAS,IAAI;IACtB,GACC,KAAK,CAAC,CAAA;QACL,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO;IACT;AACJ","debugId":null}},
    {"offset": {"line": 196, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/shared/ui/AppTag/types/useTagVariant.tsx"],"sourcesContent":["import { GlobalToken } from \"antd\"\r\n\r\nexport const useTagVariants = (token: GlobalToken) => {\r\n  return {\r\n    [\"primary\"]: { color: token.colorPrimary },\r\n    [\"default\"]: { color: token.colorBgBase },\r\n    [\"info\"]: { color: token.colorInfo },\r\n    [\"success\"]: { color: token.colorSuccess },\r\n    [\"danger\"]: { color: token.colorError },\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAEO,MAAM,iBAAiB,CAAC;IAC7B,OAAO;QACL,CAAC,UAAU,EAAE;YAAE,OAAO,MAAM,YAAY;QAAC;QACzC,CAAC,UAAU,EAAE;YAAE,OAAO,MAAM,WAAW;QAAC;QACxC,CAAC,OAAO,EAAE;YAAE,OAAO,MAAM,SAAS;QAAC;QACnC,CAAC,UAAU,EAAE;YAAE,OAAO,MAAM,YAAY;QAAC;QACzC,CAAC,SAAS,EAAE;YAAE,OAAO,MAAM,UAAU;QAAC;IACxC;AACF","debugId":null}},
    {"offset": {"line": 222, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/shared/ui/AppTag/ui/index.tsx"],"sourcesContent":["import { Tag, TagProps } from \"antd\"\r\nimport { PropsWithChildren } from \"react\"\r\nimport { useTagVariants } from \"../types/useTagVariant\"\r\nimport useToken from \"antd/es/theme/useToken\"\r\nimport { RoleComparer } from \"../types/RoleComparer\"\r\nimport { UserRoleEnum } from \"../../../entities/RoleEnum/UserRoleEnum\"\r\n\r\ninterface AppTagProps extends PropsWithChildren, TagProps {\r\n  variant?: \"primary\" | \"default\" | \"info\" | \"success\" | \"danger\"\r\n}\r\n\r\nexport const AppTag: React.FC<AppTagProps> = ({ children, variant = \"default\", ...props }) => {\r\n  const [_, token] = useToken()\r\n  return (\r\n    <Tag\r\n      {...props}\r\n      style={useTagVariants(token)[variant]}\r\n    >\r\n      {children}\r\n    </Tag>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;AACA;;;;;AAQO,MAAM,SAAgC,CAAC,EAAE,QAAQ,EAAE,UAAU,SAAS,EAAE,GAAG,OAAO;IACvF,MAAM,CAAC,GAAG,MAAM,GAAG,CAAA,GAAA,+IAAA,CAAA,UAAQ,AAAD;IAC1B,qBACE,8OAAC,mIAAA,CAAA,MAAG;QACD,GAAG,KAAK;QACT,OAAO,CAAA,GAAA,wJAAA,CAAA,iBAAc,AAAD,EAAE,MAAM,CAAC,QAAQ;kBAEpC;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/shared/entities/Ticket/StatusEnum.ts"],"sourcesContent":["export enum StatusEnum {\r\n  PENDING = \"PENDING\",\r\n  APPROVED = \"APPROVED\",\r\n  REJECTED = \"REJECTED\",\r\n}\r\n"],"names":[],"mappings":";;;AAAO,IAAA,AAAK,oCAAA;;;;WAAA","debugId":null}},
    {"offset": {"line": 262, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/features/FilterForm/ui/index.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const FilterForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call FilterForm() from the server but FilterForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/features/FilterForm/ui/index.tsx <module evaluation>\",\n    \"FilterForm\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,aAAa,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,sEACA","debugId":null}},
    {"offset": {"line": 274, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/features/FilterForm/ui/index.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const FilterForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call FilterForm() from the server but FilterForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/features/FilterForm/ui/index.tsx\",\n    \"FilterForm\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,aAAa,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,kDACA","debugId":null}},
    {"offset": {"line": 286, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 294, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/entities/TicketList/ui/index.tsx"],"sourcesContent":["import { Table, Button, Image, Flex, Tooltip } from \"antd\"\r\nimport { getTicketList } from \"../api\"\r\nimport { Ticket } from \"../../../shared/entities/Ticket/Ticket\"\r\nimport React from \"react\"\r\nimport { AppTag } from \"../../../shared/ui/AppTag/ui\"\r\nimport { StatusEnum } from \"../../../shared/entities/Ticket/StatusEnum\"\r\nimport { Prove } from \"../../../shared/entities/Prove/Prove\"\r\nimport { CheckCircleOutlined, DeleteOutlined } from \"@ant-design/icons\"\r\nimport { FilterForm } from \"../../../features/FilterForm/ui\"\r\n\r\nexport default async function TicketList({\r\n  searchParams,\r\n}: {\r\n  searchParams: { userName?: string; startDate?: string; endDate?: string; limit?: string; offset?: string }\r\n}) {\r\n  const { userName, startDate, endDate, limit, offset } = searchParams || {}\r\n\r\n  const result: Ticket[] = await getTicketList({\r\n    userName,\r\n    startDate,\r\n    endDate,\r\n    limit: limit ? Number(limit) : 10,\r\n    offset: offset ? Number(offset) : 0,\r\n  })\r\n\r\n  // Example columns, adjust as needed\r\n  const columns = [\r\n    { title: \"Студент\", dataIndex: \"user.name\", key: \"userName\" },\r\n    { title: \"По дату\", dataIndex: \"startDate\", key: \"startDate\" },\r\n    { title: \"с даты\", dataIndex: \"endDate\", key: \"endDate\" },\r\n    {\r\n      title: \"Статус\",\r\n      dataIndex: \"endDate\",\r\n      key: \"endDate\",\r\n      renderItem: (text: string) => {\r\n        return (\r\n          <AppTag\r\n            variant={text === StatusEnum.PENDING ? \"default\" : text === StatusEnum.APPROVED ? \"success\" : \"danger\"}\r\n          >\r\n            {text}\r\n          </AppTag>\r\n        )\r\n      },\r\n    },\r\n    {\r\n      title: \"Причина\",\r\n      dataIndex: \"endDate\",\r\n      key: \"endDate\",\r\n      renderItem: (text: string) => {\r\n        return <AppTag variant='info'>{text}</AppTag>\r\n      },\r\n    },\r\n    {\r\n      title: \"Подтверждения\",\r\n      dataIndex: \"prooves\",\r\n      key: \"prooves\",\r\n      renderItem: (prooves: Prove[]) => {\r\n        return (\r\n          <>\r\n            {prooves.map(item => {\r\n              return (\r\n                <Image\r\n                  preview\r\n                  style={{ width: 50, height: 50 }}\r\n                  key={item.id}\r\n                  src={item.path}\r\n                  alt='empty'\r\n                />\r\n              )\r\n            })}\r\n          </>\r\n        )\r\n      },\r\n    },\r\n    {\r\n      title: \"Действия\",\r\n      dataIndex: \"actions\",\r\n      key: \"actions\",\r\n      renderItem: ({ id }: Ticket) => {\r\n        return (\r\n          <Flex\r\n            justify='center'\r\n            gap={\"12px\"}\r\n          >\r\n            <Tooltip title='Быстрое подтверждение'>\r\n              <Button\r\n                onClick={() => console.log(`Approve ticket with id: ${id}`)}\r\n                type='primary'\r\n                size='small'\r\n              >\r\n                <CheckCircleOutlined />\r\n              </Button>\r\n            </Tooltip>\r\n            <Tooltip title='Быстрое отклонение'>\r\n              <Button\r\n                onClick={() => console.log(`Approve ticket with id: ${id}`)}\r\n                color='danger'\r\n                type='primary'\r\n                size='small'\r\n              >\r\n                <DeleteOutlined />\r\n              </Button>\r\n            </Tooltip>\r\n          </Flex>\r\n        )\r\n      },\r\n    },\r\n  ]\r\n\r\n  return (\r\n    <div>\r\n      <FilterForm\r\n        userName={userName}\r\n        startDate={startDate}\r\n        endDate={endDate}\r\n        limit={limit ? Number(limit) : 10}\r\n        offset={offset ? Number(offset) : 0}\r\n      />\r\n      <Table\r\n        columns={columns}\r\n        dataSource={result}\r\n        rowKey='id'\r\n        pagination={false}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAGA;AACA;AAEA;AAAA;AACA;;;;;;;;AAEe,eAAe,WAAW,EACvC,YAAY,EAGb;IACC,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,gBAAgB,CAAC;IAEzE,MAAM,SAAmB,MAAM,CAAA,GAAA,8IAAA,CAAA,gBAAa,AAAD,EAAE;QAC3C;QACA;QACA;QACA,OAAO,QAAQ,OAAO,SAAS;QAC/B,QAAQ,SAAS,OAAO,UAAU;IACpC;IAEA,oCAAoC;IACpC,MAAM,UAAU;QACd;YAAE,OAAO;YAAW,WAAW;YAAa,KAAK;QAAW;QAC5D;YAAE,OAAO;YAAW,WAAW;YAAa,KAAK;QAAY;QAC7D;YAAE,OAAO;YAAU,WAAW;YAAW,KAAK;QAAU;QACxD;YACE,OAAO;YACP,WAAW;YACX,KAAK;YACL,YAAY,CAAC;gBACX,qBACE,8OAAC,6IAAA,CAAA,SAAM;oBACL,SAAS,SAAS,iJAAA,CAAA,aAAU,CAAC,OAAO,GAAG,YAAY,SAAS,iJAAA,CAAA,aAAU,CAAC,QAAQ,GAAG,YAAY;8BAE7F;;;;;;YAGP;QACF;QACA;YACE,OAAO;YACP,WAAW;YACX,KAAK;YACL,YAAY,CAAC;gBACX,qBAAO,8OAAC,6IAAA,CAAA,SAAM;oBAAC,SAAQ;8BAAQ;;;;;;YACjC;QACF;QACA;YACE,OAAO;YACP,WAAW;YACX,KAAK;YACL,YAAY,CAAC;gBACX,qBACE;8BACG,QAAQ,GAAG,CAAC,CAAA;wBACX,qBACE,8OAAC,mIAAA,CAAA,QAAK;4BACJ,OAAO;4BACP,OAAO;gCAAE,OAAO;gCAAI,QAAQ;4BAAG;4BAE/B,KAAK,KAAK,IAAI;4BACd,KAAI;2BAFC,KAAK,EAAE;;;;;oBAKlB;;YAGN;QACF;QACA;YACE,OAAO;YACP,WAAW;YACX,KAAK;YACL,YAAY,CAAC,EAAE,EAAE,EAAU;gBACzB,qBACE,8OAAC,mIAAA,CAAA,OAAI;oBACH,SAAQ;oBACR,KAAK;;sCAEL,8OAAC,mIAAA,CAAA,UAAO;4BAAC,OAAM;sCACb,cAAA,8OAAC,mIAAA,CAAA,SAAM;gCACL,SAAS,IAAM,QAAQ,GAAG,CAAC,CAAC,wBAAwB,EAAE,IAAI;gCAC1D,MAAK;gCACL,MAAK;0CAEL,cAAA,8OAAC,gOAAA,CAAA,sBAAmB;;;;;;;;;;;;;;;sCAGxB,8OAAC,mIAAA,CAAA,UAAO;4BAAC,OAAM;sCACb,cAAA,8OAAC,mIAAA,CAAA,SAAM;gCACL,SAAS,IAAM,QAAQ,GAAG,CAAC,CAAC,wBAAwB,EAAE,IAAI;gCAC1D,OAAM;gCACN,MAAK;gCACL,MAAK;0CAEL,cAAA,8OAAC,sNAAA,CAAA,iBAAc;;;;;;;;;;;;;;;;;;;;;YAKzB;QACF;KACD;IAED,qBACE,8OAAC;;0BACC,8OAAC,6IAAA,CAAA,aAAU;gBACT,UAAU;gBACV,WAAW;gBACX,SAAS;gBACT,OAAO,QAAQ,OAAO,SAAS;gBAC/B,QAAQ,SAAS,OAAO,UAAU;;;;;;0BAEpC,8OAAC,mIAAA,CAAA,QAAK;gBACJ,SAAS;gBACT,YAAY;gBACZ,QAAO;gBACP,YAAY;;;;;;;;;;;;AAIpB","debugId":null}},
    {"offset": {"line": 487, "column": 0}, "map": {"version":3,"sources":["file:///D:/work/sickdays/front/src/app/home/tickets/page.tsx"],"sourcesContent":["import TicketList from \"../../../entities/TicketList/ui\"\n\nexport default async function TicketsPage(searchParams: {\n  userName?: string\n  startDate?: string\n  endDate?: string\n  limit?: string\n  offset?: string\n}) {\n  return <TicketList searchParams={searchParams} />\n}\n"],"names":[],"mappings":";;;;AAAA;;;AAEe,eAAe,YAAY,YAMzC;IACC,qBAAO,8OAAC,6IAAA,CAAA,UAAU;QAAC,cAAc;;;;;;AACnC","debugId":null}}]
}